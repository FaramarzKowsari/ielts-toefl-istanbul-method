<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Istanbul Method - 10 Days to a Band 9 Mindset</title>
    <meta name="description" content="The ultimate strategic guide for international students aiming to conquer the IELTS and TOEFL exams. Get a Band 9 mindset in 10 days.">
    
    <!-- Tailwind CSS (via CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons (via CDN) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .playing-pulse {
            animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse-ring {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
    </style>
</head>
<body class="selection:bg-indigo-100 selection:text-indigo-900">

    <!-- Navbar -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm border-b border-slate-200 transition-all">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-2">
                    <i data-lucide="book-open" class="w-6 h-6 text-indigo-600"></i>
                    <span class="font-bold text-lg tracking-tight text-slate-900">The Istanbul Method</span>
                </div>
                <div>
                    <a href="https://play.google.com/store/books/details?id=vUi3EQAAQBAJ" target="_blank" class="text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors hidden sm:inline-block mr-2">
                        Available on Google Play
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- SEO Introduction & Hero Section -->
    <header class="relative bg-white overflow-hidden border-b border-slate-200">
        <div class="absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-indigo-50 via-white to-white opacity-70"></div>
        
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 pt-16 pb-20 flex flex-col lg:flex-row items-center gap-12 text-center lg:text-left">
            
            <!-- Text Content -->
            <div class="flex-1">
                <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-50 border border-indigo-100 text-indigo-700 font-medium text-xs mb-6 uppercase tracking-wider">
                    <i data-lucide="award" class="w-4 h-4"></i>
                    <span>IELTS & TOEFL Masterclass</span>
                </div>
                
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight text-slate-900 mb-6">
                    10 Days to a <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-blue-500">Band 9 Mindset</span>
                </h1>
                
                <!-- SEO Optimized Paragraph -->
                <p class="text-base sm:text-lg text-slate-600 mb-8 leading-relaxed">
                    <strong>The Istanbul Method</strong> by <strong>Faramarz Kowsari</strong> is the ultimate strategic guide for international students aiming to conquer the <strong>IELTS</strong> and <strong>TOEFL</strong> English proficiency exams. Unlike traditional textbooks that focus solely on vocabulary and grammar, this comprehensive masterclass unlocks the psychological strategies, pattern recognition techniques, and structural secrets required to achieve a prestigious <strong>Band 9</strong> in IELTS or a <strong>110+ score</strong> in TOEFL. Master the Reading, Listening, Writing, and Speaking sections in just 10 focused days.
                </p>

                <a href="https://play.google.com/store/books/details?id=vUi3EQAAQBAJ" target="_blank" class="inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors shadow-sm hover:shadow">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Google_Play_Books_icon_%282016%29.svg/512px-Google_Play_Books_icon_%282016%29.svg.png" alt="Google Play Books" class="w-5 h-5 bg-white rounded-sm p-0.5" />
                    <span>View on Google Play Books</span>
                </a>
            </div>

            <!-- Book Cover Image Area -->
            <div class="flex-shrink-0 w-full max-w-sm lg:w-96 perspective-1000">
                <div class="relative mx-auto w-3/4 lg:w-full transform transition-transform duration-500 hover:scale-105 hover:-rotate-1">
                    <div class="absolute inset-0 bg-indigo-600 blur-2xl opacity-20 rounded-3xl transform translate-y-6 translate-x-4"></div>
                    
                    <div class="relative z-10 bg-white rounded-r-2xl rounded-l-md shadow-2xl border-l-8 border-indigo-900 overflow-hidden aspect-[2/3] flex items-center justify-center bg-slate-100">
                        <!-- Try to load cover.jpg, if fails show fallback -->
                        <img src="cover.jpg" alt="The Istanbul Method Official Book Cover" class="w-full h-full object-cover" onerror="this.style.display='none'; document.getElementById('fallback-cover').style.display='flex';" />
                        
                        <div id="fallback-cover" style="display: none;" class="w-full h-full bg-gradient-to-b from-slate-800 to-slate-900 p-6 flex-col items-center justify-center text-center">
                            <h2 class="text-2xl font-serif font-bold text-white mb-2">The Istanbul Method</h2>
                            <h3 class="text-sm text-slate-300 tracking-widest uppercase mb-8">For IELTS & TOEFL</h3>
                            <div class="w-full h-px bg-slate-700 mb-8"></div>
                            <p class="text-sm font-bold text-indigo-400 uppercase tracking-widest mb-2">10 Days</p>
                            <p class="text-xs text-slate-400 mb-auto">To a Band 9 Mindset</p>
                            <p class="text-xs font-medium text-slate-500 mt-8 tracking-widest uppercase">Faramarz Kowsari</p>
                        </div>
                        
                        <div class="absolute top-0 left-0 w-4 h-full bg-gradient-to-r from-black/40 to-transparent pointer-events-none"></div>
                        <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-tr from-white/10 to-transparent pointer-events-none"></div>
                    </div>
                </div>
            </div>

        </div>
    </header>

    <!-- Chapters Section with TTS -->
    <section class="py-24 bg-slate-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">Inside The Book</h2>
                <p class="text-slate-600 max-w-2xl mx-auto">
                    Click the play button on any section below to listen to a brief overview and an actionable example from the book. Read naturally using Google's TTS engine.
                </p>
            </div>

            <div class="space-y-8" id="chapters-container">
                <!-- Chapters will be injected here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 py-12 border-t border-slate-800">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center text-center">
            <h3 class="text-xl font-bold text-white mb-4">Ready to upgrade your exam strategy?</h3>
            <p class="text-slate-400 mb-8 max-w-md">
                Get instant access to the digital edition and start reading on your phone, tablet, or computer.
            </p>
            
            <a href="https://play.google.com/store/books/details?id=vUi3EQAAQBAJ" target="_blank" class="inline-flex items-center gap-2 text-slate-300 hover:text-white transition-colors mb-12">
                <span>View on Google Play Books</span>
                <i data-lucide="external-link" class="w-4 h-4 ml-1"></i>
            </a>

            <div class="text-slate-500 text-sm w-full pt-8 border-t border-slate-800 flex flex-col sm:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-2">
                    <i data-lucide="book-open" class="w-4 h-4"></i>
                    <span>The Istanbul Method Â© <span id="current-year"></span></span>
                </div>
                <span>By Faramarz Kowsari</span>
            </div>
        </div>
    </footer>

    <!-- JavaScript for Logic and TTS -->
    <script>
        // Set current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Data for chapters
        const bookSections = [
            {
                id: "reading",
                icon: "bookmark",
                title: "The Reading Matrix: Navigating the Traps",
                description: "Most students fail the reading section not because of poor vocabulary, but due to poor strategy. The Istanbul Method teaches you how to map the text before reading a single paragraph.",
                example: "Example: In 'True/False/Not Given' questions, the book shows you how to identify 'Absolute Modifiers' (words like always, never, exactly). For instance, if the text says 'Many birds migrate south', and the question asks 'All birds migrate south' (False), versus 'Some birds migrate to Africa' (Not Given). You will learn to spot these psychological traps instantly.",
                fullText: "The Reading Matrix: Navigating the Traps. Most students fail the reading section not because of poor vocabulary, but due to poor strategy. The Istanbul Method teaches you how to map the text before reading a single paragraph. For example, in True, False, Not Given questions, the book shows you how to identify Absolute Modifiers like 'always', 'never', or 'exactly'. If the text says 'Many birds migrate south', and the question asks 'All birds migrate south', the answer is False. But if it asks 'Some birds migrate to Africa', it is Not Given. You will learn to spot these psychological traps instantly."
            },
            {
                id: "listening",
                icon: "headphones",
                title: "The Listening Echo: Anticipation Over Reaction",
                description: "Band 9 candidates don't just listen; they anticipate what the speaker is going to say next. This section trains your brain to recognize audio pivot points and structural markers.",
                example: "Example: The book trains you to listen for 'Pivot Words' such as 'However', 'Conversely', or 'Actually'. If a speaker says, 'We originally planned to build the library on the West side...', a Band 9 listener already knows the answer will NOT be the West side, and prepares their pencil for the pivot word that introduces the final location.",
                fullText: "The Listening Echo: Anticipation Over Reaction. Band 9 candidates don't just listen; they anticipate what the speaker is going to say next. This section trains your brain to recognize audio pivot points and structural markers. For example, the book trains you to listen for Pivot Words such as 'However', 'Conversely', or 'Actually'. If a speaker says, 'We originally planned to build the library on the West side', a Band 9 listener already knows the answer will NOT be the West side, and prepares their pencil for the pivot word that introduces the actual, final location."
            },
            {
                id: "writing",
                icon: "pen-tool",
                title: "The Writing Blueprint: Architecting a 9.0 Essay",
                description: "Examiners scan for specific logical structures, not just fancy words. Learn the exact paragraph architectures that force the examiner to award a high score for Coherence and Cohesion.",
                example: "Example: Instead of writing a flat paragraph, you will learn the '4-Step Expansion Model': 1) Topic Sentence (The claim). 2) Clarification (What this means). 3) Concrete Example (A specific, undeniable fact). 4) Conclusive Link (Tying back to the prompt). This structure guarantees a high score even with simple vocabulary.",
                fullText: "The Writing Blueprint: Architecting a 9.0 Essay. Examiners scan for specific logical structures, not just fancy words. Learn the exact paragraph architectures that force the examiner to award a high score for Coherence and Cohesion. For example, instead of writing a flat paragraph, you will learn the 4-Step Expansion Model: Step 1, Topic Sentence. Step 2, Clarification. Step 3, Concrete Example. And Step 4, Conclusive Link. This structure guarantees a high score even with simple vocabulary, because your logic becomes undeniable."
            },
            {
                id: "speaking",
                icon: "message-square",
                title: "The Speaking Persona: Engineering Fluency",
                description: "Fluency isn't about speaking fast; it's about speaking smoothly and maintaining control. Discover how to use hesitation devices and native-like fillers to buy time and sound authentic.",
                example: "Example: When faced with a difficult Part 3 question, instead of freezing or saying 'Ummm', the Istanbul Method teaches you to use native buffer phrases like: 'That's a rather complex issue, but if I had to pinpoint one main factor...' This buys you 4 seconds of thinking time while demonstrating advanced grammatical control.",
                fullText: "The Speaking Persona: Engineering Fluency. Fluency isn't about speaking fast; it's about speaking smoothly and maintaining control. Discover how to use hesitation devices and native-like fillers to buy time and sound authentic. For example, when faced with a difficult Part 3 question, instead of freezing, the Istanbul Method teaches you to use native buffer phrases like: 'That's a rather complex issue, but if I had to pinpoint one main factor...' This technique buys you crucial seconds of thinking time while demonstrating advanced grammatical control to the examiner."
            }
        ];

        // State variables
        let playingId = null;
        const synth = window.speechSynthesis;

        // Render Chapters
        const container = document.getElementById('chapters-container');
        
        bookSections.forEach(section => {
            const div = document.createElement('div');
            div.className = 'bg-white rounded-2xl p-6 sm:p-8 shadow-sm border border-slate-200 hover:border-indigo-200 hover:shadow-md transition-all duration-300';
            div.id = `card-${section.id}`;
            
            div.innerHTML = `
                <div class="flex flex-col sm:flex-row gap-6">
                    <!-- Icon & Play/Stop Buttons Area -->
                    <div class="flex-shrink-0 flex flex-col items-center gap-4">
                        <div class="w-14 h-14 rounded-full bg-indigo-50 flex items-center justify-center border border-indigo-100">
                            <i data-lucide="${section.icon}" class="w-6 h-6 text-indigo-600"></i>
                        </div>
                        
                        <div class="flex gap-2">
                            <button onclick="playAudio('${section.id}')" id="play-btn-${section.id}" class="flex items-center justify-center w-10 h-10 rounded-full transition-all duration-300 bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm" title="Play audio">
                                <i data-lucide="play-circle" class="w-5 h-5"></i>
                            </button>

                            <button onclick="stopAudio()" id="stop-btn-${section.id}" disabled class="flex items-center justify-center w-10 h-10 rounded-full transition-all duration-300 bg-slate-100 text-slate-400 cursor-not-allowed" title="Stop audio">
                                <i data-lucide="square" class="w-4 h-4 fill-current"></i>
                            </button>
                        </div>
                        <span id="playing-text-${section.id}" class="text-xs font-medium text-indigo-600 playing-pulse hidden">Playing...</span>
                    </div>

                    <!-- Content Area -->
                    <div class="flex-1">
                        <h3 class="text-2xl font-bold text-slate-900 mb-3">${section.title}</h3>
                        <p class="text-slate-600 text-base leading-relaxed mb-4">${section.description}</p>
                        <div class="bg-slate-50 rounded-xl p-5 border border-slate-100">
                            <h4 class="flex items-center gap-2 font-semibold text-slate-800 mb-2">
                                <i data-lucide="check-circle-2" class="w-4 h-4 text-emerald-500"></i>
                                Practical Application
                            </h4>
                            <p class="text-slate-600 text-sm leading-relaxed italic">"${section.example}"</p>
                        </div>
                    </div>
                </div>
            `;
            container.appendChild(div);
        });

        // Initialize Icons
        lucide.createIcons();

        // Audio Functions
        function updateUIState() {
            bookSections.forEach(section => {
                const isPlaying = playingId === section.id;
                const card = document.getElementById(`card-${section.id}`);
                const playBtn = document.getElementById(`play-btn-${section.id}`);
                const stopBtn = document.getElementById(`stop-btn-${section.id}`);
                const playingText = document.getElementById(`playing-text-${section.id}`);

                if (isPlaying) {
                    card.classList.add('border-indigo-400', 'shadow-md', 'ring-1', 'ring-indigo-100');
                    card.classList.remove('border-slate-200');
                    
                    playBtn.classList.replace('bg-indigo-600', 'bg-indigo-100');
                    playBtn.classList.replace('text-white', 'text-indigo-700');
                    
                    stopBtn.disabled = false;
                    stopBtn.classList.replace('bg-slate-100', 'bg-red-100');
                    stopBtn.classList.replace('text-slate-400', 'text-red-600');
                    stopBtn.classList.add('hover:bg-red-200', 'shadow-sm');
                    stopBtn.classList.remove('cursor-not-allowed');

                    playingText.classList.remove('hidden');
                } else {
                    card.classList.remove('border-indigo-400', 'shadow-md', 'ring-1', 'ring-indigo-100');
                    card.classList.add('border-slate-200');

                    playBtn.classList.replace('bg-indigo-100', 'bg-indigo-600');
                    playBtn.classList.replace('text-indigo-700', 'text-white');

                    stopBtn.disabled = true;
                    stopBtn.classList.replace('bg-red-100', 'bg-slate-100');
                    stopBtn.classList.replace('text-red-600', 'text-slate-400');
                    stopBtn.classList.remove('hover:bg-red-200', 'shadow-sm');
                    stopBtn.classList.add('cursor-not-allowed');

                    playingText.classList.add('hidden');
                }
            });
        }

        function stopAudio() {
            synth.cancel();
            playingId = null;
            updateUIState();
        }

        function playAudio(id) {
            const section = bookSections.find(s => s.id === id);
            if (!section) return;

            synth.cancel(); // Stop current audio

            const utterance = new SpeechSynthesisUtterance(section.fullText);
            
            // Voice selection logic (Prefer Google Natural English)
            const voices = synth.getVoices();
            let preferredVoice = voices.find(v => v.name.includes('Google') && (v.lang === 'en-US' || v.lang === 'en-GB'));
            
            if (!preferredVoice) {
                preferredVoice = voices.find(v => (v.lang.includes('en-GB') || v.lang.includes('en-US')) && (v.name.includes('Premium') || v.name.includes('Enhanced')));
            }
            if (!preferredVoice) {
                preferredVoice = voices.find(v => v.lang.includes('en-GB') || v.lang.includes('en-US'));
            }
            
            if (preferredVoice) {
                utterance.voice = preferredVoice;
            }
            
            utterance.lang = 'en-US';
            utterance.rate = 0.95; 
            utterance.pitch = 1.0;

            utterance.onend = () => {
                playingId = null;
                updateUIState();
            };
            utterance.onerror = () => {
                playingId = null;
                updateUIState();
            };

            playingId = id;
            updateUIState();
            synth.speak(utterance);
        }

        // Ensure voices load properly on some browsers
        window.speechSynthesis.onvoiceschanged = () => {
            // Voices are ready
        };
        
        // Cleanup on page unload
        window.addEventListener('beforeunload', () => {
            synth.cancel();
        });
    </script>
</body>
</html>
